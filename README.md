# DC_Tracer
2022 개인 프로젝트

수발광을 이용해서 경기장의 흰색 선에 발광의 적외선이 반사가 잘되어서 높아지는 수광값을 따라서 움직이도록 만든 로봇.
<img width="387" height="517" alt="image" src="https://github.com/user-attachments/assets/fa03974a-c2dc-4ae2-a4c3-a0472be90d28" />
<img width="1039" height="458" alt="image" src="https://github.com/user-attachments/assets/bc5d3ae2-6959-424d-9f4c-2edce531ae50" />

# 하드웨어
솔리드웍스로 기판, 바퀴, 모터가드, 기어, 베어링 직접 설계
MCU 및 메인보드, 센서보드, 모터드라이버에 사용되는 부품 직접 납땜하여 제작
MCU - TMS320F2809
메인보드 – cpu를 장착할 보드 및 중심이 되는 보드 점프선을 적게 쓰고, 최대한 작게 만들도록 부품을 배치
센서보드 – 수발광을 달아서 수광값을 받을 보드
모터드라이버 - 모터 제어
배터리 – 4.2V  4cell 2set
밑판 – 좁고 길게 설계

# 소프트웨어
0. 메뉴만들기
1, 수발광값이 잘 나오는지 확인 (0~4095)
2. max-min: 경기장에서 어두운곳에서 min값을 받고, 흰색 라인에서 max값을 받음 
3. 128등분: max-min값을 받아서 그 사이값을 128등분 해서 수광값이 0~127 사이의 값으로 나오게 하여 수광값의 정확도를 높임  (값이 튈 수 있으니 임계값을 설정해서 임계값보다 작으면 0으로 처리)
4. Position: 수광값이 높게 나오는 흰색라인을 따라가게 만듦 
5. QEP: 엔코더를 이용해서 이동거리를 계산
6. 영제어: 모터가 안움직이게 제어
7. 모터제어: 모터제어
8. 스타트엔드, 턴마크체크, 크로스: 가로세로 선이 있을때 마크종류 확인 
9. 1차주행 : 턴마크가 어디있는지 몇 개있는지 체크하는 주행
10. 2차주행: 직진구간 가속
